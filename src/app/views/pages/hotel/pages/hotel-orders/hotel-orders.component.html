<div *ngIf="isLoading">
    <mat-spinner class="spinner" [diameter]="30"></mat-spinner>
</div>
<div class="d-flex flex-column-fluid">    
  <div class="container">
    <!--begin::Row-->
    <div class="row">
      <div class="col-12">
        <div class="brdSmallBlock gutter-b d-flex">
          <div class="brdSmallBlock_inner pt-4 flex-column">
            <h2 class="text-white pl-2 opacity-70">Order Details</h2>
            <h6 class="text-white-50 pl-2">Order details are displayed here</h6>
          </div>
        </div>
      </div>
    </div>
    <!--end::Row-->    
      <div class="card card-custom">
        <div class="card-header">
          <div class="card-title">
            <form [formGroup]="searchOrderFG" class="d-flex">
            <mat-form-field class="" appearance="outline">
              <mat-label>First Name</mat-label>
              <input matInput formControlName="FirstName" required>
              <mat-error *ngIf="searchOrderFG.get('FirstName').hasError('required')">First Name is Required</mat-error>
            </mat-form-field>
            <mat-form-field class="ml-2" appearance="outline">
              <mat-label>Last Name</mat-label>
              <input matInput formControlName="LastName" required>
              <mat-error *ngIf="searchOrderFG.get('LastName').hasError('required')">Last Name is Required</mat-error>
            </mat-form-field>
            <button type="button" (click)="search()" class="btn btn-primary font-size-h5 ml-2 mt-2 h-40px">Search</button>
          </form>
          </div>
        </div>
        <div class="card-header justify-content-center">
          <div class="row align-items-center"> 
            (OR)
          </div>
        </div>
        <div class="card-header">
          <div class="card-title">
            <form [formGroup]="searchOrderIdFG" class="d-flex">
            <mat-form-field class="" appearance="outline">
              <mat-label>OrderId</mat-label>
              <input matInput formControlName="OrderId" required>
              <mat-error *ngIf="searchOrderIdFG.get('OrderId').hasError('required')">OrderId is Required</mat-error>
            </mat-form-field>
            <button type="button" (click)="searchById()" class="btn btn-primary font-size-h5 ml-2 mt-2 h-40px">Search</button>
          </form>
          </div>
        </div>
        <div class="card-body p-0">          
            <table mat-table [dataSource]="sortedOrders" [ngClass]="isSubmitted && !isLoading ? '' : 'd-none'" matSort class="w-100">  
              <!--- Note that these columns can be defined in any order.
                    The actual rendered columns are set as a property on the row definition" -->            
              <!-- Position Column -->
              <ng-container matColumnDef="OrderId">
                <th mat-header-cell *matHeaderCellDef mat-sort-header> Order Id </th>
                <td mat-cell *matCellDef="let element"> 
                    <a routerLink="/Hotels/Orders/{{element.OrderId}}">
                      {{element.OrderId}} 
                    </a>
                </td>
              </ng-container>
            
              <!-- Name Column -->
              <ng-container matColumnDef="PassengerName">
                <th mat-header-cell *matHeaderCellDef mat-sort-header> Passenger Name </th>
                <td mat-cell *matCellDef="let element"> {{element.PassengerName}} </td>
              </ng-container>
            
              <!-- Weight Column -->
              <ng-container matColumnDef="Depature">
                <th mat-header-cell *matHeaderCellDef mat-sort-header> Depature </th>
                <td mat-cell *matCellDef="let element"> {{element.Depature}} </td>
              </ng-container>
            
              <!-- Symbol Column -->
              <ng-container matColumnDef="Airport">
                <th mat-header-cell *matHeaderCellDef mat-sort-header> Airport </th>
                <td mat-cell *matCellDef="let element"> {{element.Airport}} </td>
              </ng-container>
            
              <!-- Symbol Column -->
              <ng-container matColumnDef="Creation">
                <th mat-header-cell *matHeaderCellDef mat-sort-header> Creation </th>
                <td mat-cell *matCellDef="let element"> {{element.Creation}} </td>
              </ng-container>
              
              <!-- Symbol Column -->
              <ng-container matColumnDef="Agency">
                <th mat-header-cell *matHeaderCellDef mat-sort-header> Agency </th>
                <td mat-cell *matCellDef="let element"> {{element.Agency}} </td>
              </ng-container>
              
              <!-- Symbol Column -->
              <ng-container matColumnDef="AgencyId">
                <th mat-header-cell *matHeaderCellDef mat-sort-header> Agency Id </th>
                <td mat-cell *matCellDef="let element"> {{element.AgencyId}} </td>
              </ng-container>
              
              <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
              <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
            </table>          
        </div>
      </div>
  </div>
</div>



